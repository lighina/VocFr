# Game Mode - æ¸¸æˆæ¨¡å¼è¯¦ç»†è¯´æ˜

> **ç‰ˆæœ¬**: 1.0
> **åˆ›å»ºæ—¥æœŸ**: 2025-11-16
> **æœ€åæ›´æ–°**: 2025-11-16

---

## ç›®å½•

1. [æ¦‚è¿°](#æ¦‚è¿°)
2. [æ¸¸æˆåˆ—è¡¨](#æ¸¸æˆåˆ—è¡¨)
3. [Matching Game - é…å¯¹æ¸¸æˆ](#matching-game---é…å¯¹æ¸¸æˆ)
4. [Hangman - åˆ½å­æ‰‹æ¸¸æˆ](#hangman---åˆ½å­æ‰‹æ¸¸æˆ)
5. [æ˜Ÿæ˜Ÿå¥–åŠ±ç³»ç»Ÿ](#æ˜Ÿæ˜Ÿå¥–åŠ±ç³»ç»Ÿ)
6. [æ•°æ®æ¨¡å‹](#æ•°æ®æ¨¡å‹)
7. [æŠ€æœ¯å®ç°](#æŠ€æœ¯å®ç°)
8. [ç”¨æˆ·ä½“éªŒ](#ç”¨æˆ·ä½“éªŒ)

---

## æ¦‚è¿°

Game Modeï¼ˆæ¸¸æˆæ¨¡å¼ï¼‰æ˜¯VocFråº”ç”¨çš„è¶£å‘³å­¦ä¹ åŠŸèƒ½ï¼Œé€šè¿‡æ¸¸æˆåŒ–æ–¹å¼å·©å›ºè¯æ±‡è®°å¿†ã€‚æä¾›ä¸¤ç§ç»å…¸æ¸¸æˆï¼šé…å¯¹æ¸¸æˆï¼ˆMatching Gameï¼‰å’Œåˆ½å­æ‰‹æ¸¸æˆï¼ˆHangmanï¼‰ï¼Œè®©å­¦ä¹ å˜å¾—æ›´æœ‰è¶£ã€‚

### è®¾è®¡ç†å¿µ

```
æ¸¸æˆæ¨¡å¼ = å¨±ä¹ + å­¦ä¹  + æ¿€åŠ±
â”œâ”€â”€ ä½å‹åŠ›ç¯å¢ƒï¼ˆæ¸¸æˆè€Œéæµ‹è¯•ï¼‰
â”œâ”€â”€ å³æ—¶åé¦ˆï¼ˆéŸ³æ•ˆ+åŠ¨ç”»ï¼‰
â”œâ”€â”€ æ˜Ÿæ˜Ÿå¥–åŠ±ï¼ˆé¼“åŠ±å‚ä¸ï¼‰
â””â”€â”€ çµæ´»é€‰æ‹©ï¼ˆå•å…ƒ/å…¨éƒ¨å•è¯ï¼‰
```

### æ ¸å¿ƒä»·å€¼

- **è¶£å‘³æ€§å¼º**: ç»å…¸æ¸¸æˆæœºåˆ¶ï¼Œæ˜“ä¸Šæ‰‹
- **å­¦ä¹ æœ‰æ•ˆ**: åœ¨æ¸¸æˆä¸­è‡ªç„¶è®°å¿†å•è¯
- **æˆå°±æ¿€åŠ±**: è®¡æ—¶ã€è®¡åˆ†ã€æ˜Ÿæ˜Ÿå¥–åŠ±
- **é€‚åˆå„¿ç«¥**: é…å¯¹æ¸¸æˆç‰¹åˆ«é€‚åˆå¹´è½»å­¦ä¹ è€…

---

## æ¸¸æˆåˆ—è¡¨

### GameModeView - æ¸¸æˆé€‰æ‹©ç•Œé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        ğŸ® Game Mode             â”‚
â”‚    é€‰æ‹©ä¸€ä¸ªæ¸¸æˆå¼€å§‹å­¦ä¹           â”‚
â”‚                                 â”‚
â”‚  æ¸¸æˆåˆ—è¡¨                        â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸŸ§ Matching              â”‚ â”‚
â”‚  â”‚ 6å¯¹å·²å­¦è¯æ±‡               â”‚ â”‚
â”‚  â”‚                      â†’   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸŸª Hangman              â–¼â”‚ â”‚
â”‚  â”‚ ç‚¹å‡»é€‰æ‹©å•å…ƒ              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚  [å±•å¼€Hangmanå]                â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ“š æ‰€æœ‰å­¦ä¹ è¿‡å•è¯     â†’   â”‚ â”‚
â”‚  â”‚    218 words              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ“– UnitÃ© 1 : Ã€ l'Ã©cole â†’  â”‚ â”‚
â”‚  â”‚    77 words               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ“– UnitÃ© 2 : Les sports â†’ â”‚ â”‚
â”‚  â”‚    65 words               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¸¤ç§æ¸¸æˆ

| æ¸¸æˆ | ç±»å‹ | è¯æ±‡èŒƒå›´ | éš¾åº¦ | æ—¶é•¿ |
|------|------|---------|------|------|
| Matching | è®°å¿†é…å¯¹ | æ‰€æœ‰å·²å­¦è¯æ±‡ï¼ˆ6å¯¹ï¼‰ | â­â­ | 1-3åˆ†é’Ÿ |
| Hangman | çŒœè¯æ¸¸æˆ | å•å…ƒé€‰æ‹©/å…¨éƒ¨ | â­â­â­ | 5-15åˆ†é’Ÿ |

---

## Matching Game - é…å¯¹æ¸¸æˆ

### æ¸¸æˆè§„åˆ™

**ç›®æ ‡**: å°†å›¾ç‰‡ä¸å¯¹åº”çš„æ³•è¯­å•è¯é…å¯¹

**è§„åˆ™**:
1. 12å¼ å¡ç‰‡ï¼ˆ6å¯¹ï¼‰ç¿»é¢æœä¸‹
2. æ¯æ¬¡å¯ç¿»å¼€2å¼ å¡ç‰‡
3. å¦‚æœæ˜¯åŒä¸€ä¸ªå•è¯ï¼ˆå›¾ç‰‡+å•è¯ï¼‰ï¼Œé…å¯¹æˆåŠŸ
4. å¦‚æœä¸åŒ¹é…ï¼Œå¡ç‰‡ç¿»å›èƒŒé¢
5. æ‰€æœ‰å¡ç‰‡é…å¯¹å®Œæˆå³æ¸¸æˆç»“æŸ

---

### ç•Œé¢è®¾è®¡

#### æ¸¸æˆè¿›è¡Œä¸­

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é…å¯¹æ¸¸æˆ - æ‰€æœ‰å­¦ä¹ è¿‡çš„å•è¯     â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ å·²é…å¯¹      2 / 6    å°è¯• â”‚ â”‚
â”‚  â”‚              8            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ?  â”‚ â”‚ğŸ–¼ï¸ â”‚ â”‚ ?  â”‚ â”‚ ?  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ?  â”‚ â”‚æ–‡å­—â”‚ â”‚ ?  â”‚ â”‚ ?  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”  â”‚
â”‚  â”‚âœ“âœ“ â”‚ â”‚âœ“âœ“ â”‚ â”‚ ?  â”‚ â”‚ ?  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜  â”‚
â”‚                                 â”‚
â”‚  ç‚¹å‡»ç¿»å¼€ä¸¤å¼ å¡ç‰‡è¿›è¡Œé…å¯¹        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### å¡ç‰‡ç±»å‹

```
å›¾ç‰‡å¡ç‰‡:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        â”‚
â”‚   ğŸ–¼ï¸  â”‚  â† å•è¯å›¾ç‰‡
â”‚        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ–‡å­—å¡ç‰‡:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        â”‚
â”‚ gomme  â”‚  â† æ³•è¯­å•è¯
â”‚        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å·²é…å¯¹:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   âœ“    â”‚
â”‚   ğŸ–¼ï¸  â”‚  â† ä¿æŒæ˜¾ç¤º
â”‚        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### æ¸¸æˆå®Œæˆç•Œé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                 â”‚
â”‚         âœ…                      â”‚
â”‚                                 â”‚
â”‚      å¤ªæ£’äº†ï¼                    â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ é…å¯¹æ•°é‡      6           â”‚ â”‚
â”‚  â”‚ å°è¯•æ¬¡æ•°      12          â”‚ â”‚
â”‚  â”‚ ç”¨æ—¶          01:23       â”‚ â”‚
â”‚  â”‚ å¾—åˆ†          58 â­       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  å†ç©ä¸€æ¬¡     â”‚ â”‚  è¿”å›   â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### æ ¸å¿ƒé€»è¾‘

#### 1. å¡ç‰‡è®¾ç½®

```swift
// MatchingCardæ¨¡å‹
struct MatchingCard: Identifiable, Equatable {
    let id = UUID()
    let word: Word
    let type: CardType      // .image æˆ– .text
    var isFaceUp: Bool = false
    var isMatched: Bool = false

    func matches(_ other: MatchingCard) -> Bool {
        // å¿…é¡»ä¸åŒç±»å‹ï¼ˆå›¾ç‰‡vsæ–‡å­—ï¼‰ä¸”åŒä¸€å•è¯
        guard self.type != other.type else { return false }
        return self.word.id == other.word.id
    }
}

enum CardType {
    case image  // æ˜¾ç¤ºå›¾ç‰‡
    case text   // æ˜¾ç¤ºæ³•è¯­å•è¯
}

// æ¸¸æˆè®¾ç½®ï¼ˆ6å¯¹ = 12å¼ å¡ç‰‡ï¼‰
private func setupGame() {
    // æ”¶é›†æ‰€æœ‰å·²å­¦å•è¯
    var allWords: [Word] = []
    var seenWordIds = Set<String>()

    for unite in unites {
        for section in unite.sections {
            for sectionWord in section.sectionWords {
                if let word = sectionWord.word {
                    // å»é‡ + è¿‡æ»¤otherè¯æ€§
                    if !seenWordIds.contains(word.id) &&
                       word.partOfSpeech != .other {
                        allWords.append(word)
                        seenWordIds.insert(word.id)
                    }
                }
            }
        }
    }

    // é€‰æ‹©6ä¸ªå•è¯
    let selectedWords = Array(allWords.shuffled().prefix(6))

    // ä¸ºæ¯ä¸ªå•è¯åˆ›å»º2å¼ å¡ç‰‡ï¼ˆå›¾ç‰‡+æ–‡å­—ï¼‰
    var newCards: [MatchingCard] = []
    for word in selectedWords {
        newCards.append(MatchingCard(word: word, type: .image))
        newCards.append(MatchingCard(word: word, type: .text))
    }

    // æ´—ç‰Œ
    cards = newCards.shuffled()
}
```

---

#### 2. ç¿»ç‰Œé€»è¾‘

```swift
func selectCard(_ card: MatchingCard) {
    // 1. ç¬¬ä¸€æ¬¡ç¿»ç‰Œæ—¶å¯åŠ¨è®¡æ—¶å™¨
    if !hasStarted {
        hasStarted = true
        startTimer()
    }

    // 2. å¿½ç•¥å·²ç¿»å¼€æˆ–å·²é…å¯¹çš„å¡ç‰‡
    guard !card.isFaceUp && !card.isMatched else { return }

    // 3. å¿½ç•¥å·²é€‰æ‹©2å¼ å¡ç‰‡çš„æƒ…å†µ
    guard selectedCards.count < 2 else { return }

    // 4. ç¿»å¼€å¡ç‰‡
    cards[index].isFaceUp = true
    selectedCards.append(card)

    // 5. ä¸¤å¼ éƒ½ç¿»å¼€åæ£€æŸ¥é…å¯¹
    if selectedCards.count == 2 {
        attempts += 1
        checkForMatch()
    }
}
```

---

#### 3. é…å¯¹æ£€æŸ¥

```swift
private func checkForMatch() {
    let card1 = selectedCards[0]
    let card2 = selectedCards[1]

    if card1.matches(card2) {
        // é…å¯¹æˆåŠŸï¼
        markCardsAsMatched(card1, card2)
        matchedPairs += 1

        // å¥–åŠ±ç§¯åˆ†
        let points = calculatePointsForMatch()
        score += points

        // æ’­æ”¾æˆåŠŸéŸ³æ•ˆ
        SoundEffectManager.shared.playCorrectSound()

        // æ¸…ç©ºé€‰æ‹©
        selectedCards.removeAll()

        // æ£€æŸ¥æ¸¸æˆæ˜¯å¦å®Œæˆ
        if matchedPairs == totalPairs {
            completeGame()
        }
    } else {
        // é…å¯¹å¤±è´¥ - 1ç§’åç¿»å›
        SoundEffectManager.shared.playIncorrectSound()

        DispatchQueue.main.asyncAfter(deadline: .now() + 1.0) {
            self.flipCardsBack(card1, card2)
            self.selectedCards.removeAll()
        }
    }
}
```

---

### ç§¯åˆ†è®¡ç®—

#### åŸºç¡€ç§¯åˆ†

```swift
private func calculatePointsForMatch() -> Int {
    // åŸºç¡€åˆ†ï¼šæ¯å¯¹10åˆ†
    let basePoints = 10

    // æ—©æœŸé…å¯¹å¥–åŠ±ï¼šå°è¯•æ¬¡æ•°è¶Šå°‘åˆ†æ•°è¶Šé«˜
    let attemptBonus = max(0, 10 - attempts)

    return basePoints + attemptBonus
}
```

**ç¤ºä¾‹**ï¼š
- ç¬¬1æ¬¡å°è¯•æˆåŠŸï¼š10 + 9 = 19åˆ†
- ç¬¬5æ¬¡å°è¯•æˆåŠŸï¼š10 + 5 = 15åˆ†
- ç¬¬10æ¬¡å°è¯•æˆåŠŸï¼š10 + 0 = 10åˆ†

#### æ—¶é—´å¥–åŠ±

```swift
private func calculateTimeBonus() -> Int {
    if elapsedTime <= 60 {
        return 20 // 1åˆ†é’Ÿå†…å®Œæˆ
    } else if elapsedTime <= 120 {
        return 10 // 2åˆ†é’Ÿå†…å®Œæˆ
    } else if elapsedTime <= 180 {
        return 5  // 3åˆ†é’Ÿå†…å®Œæˆ
    }
    return 0
}
```

#### æ€»åˆ†è®¡ç®—

```
æ€»åˆ† = (å„å¯¹åŸºç¡€åˆ†ä¹‹å’Œ) + æ—¶é—´å¥–åŠ±

ç¤ºä¾‹ï¼ˆå®Œç¾æ¸¸æˆï¼‰ï¼š
â”œâ”€â”€ 6å¯¹ Ã— 19åˆ† = 114åˆ†
â”œâ”€â”€ æ—¶é—´å¥–åŠ± = 20åˆ†
â””â”€â”€ æ€»åˆ† = 134åˆ†

ç¤ºä¾‹ï¼ˆæ™®é€šæ¸¸æˆï¼‰ï¼š
â”œâ”€â”€ ç¬¬1å¯¹ï¼š19åˆ†
â”œâ”€â”€ ç¬¬2å¯¹ï¼š17åˆ†
â”œâ”€â”€ ç¬¬3å¯¹ï¼š15åˆ†
â”œâ”€â”€ ç¬¬4å¯¹ï¼š13åˆ†
â”œâ”€â”€ ç¬¬5å¯¹ï¼š11åˆ†
â”œâ”€â”€ ç¬¬6å¯¹ï¼š10åˆ†
â”œâ”€â”€ å°è®¡ï¼š85åˆ†
â”œâ”€â”€ æ—¶é—´å¥–åŠ±ï¼š10åˆ†ï¼ˆ2åˆ†é’Ÿå†…ï¼‰
â””â”€â”€ æ€»åˆ†ï¼š95åˆ†
```

---

## Hangman - åˆ½å­æ‰‹æ¸¸æˆ

### æ¸¸æˆè§„åˆ™

**ç›®æ ‡**: é€šè¿‡çŒœå­—æ¯æˆ–æ•´ä¸ªå•è¯æ¥çŒœå‡ºæ³•è¯­å•è¯

**è§„åˆ™**:
1. æ˜¾ç¤ºå•è¯çš„ä¸‹åˆ’çº¿ï¼ˆ_ _ _ _ _ï¼‰
2. ç©å®¶å¯ä»¥ï¼š
   - ç‚¹å‡»å­—æ¯çŒœæµ‹
   - æˆ–ç›´æ¥è¾“å…¥å®Œæ•´å•è¯
3. æ¯æ¬¡é”™è¯¯çŒœæµ‹ä¼šå¢åŠ é”™è¯¯æ¬¡æ•°
4. é”™è¯¯10æ¬¡æ¸¸æˆå¤±è´¥
5. çŒœå¯¹æ‰€æœ‰å­—æ¯æˆ–æ­£ç¡®è¾“å…¥å•è¯åˆ™æˆåŠŸ

---

### ç•Œé¢è®¾è®¡

#### æ¸¸æˆè¿›è¡Œä¸­

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Hangman: UnitÃ© 1          5/77 â”‚
â”‚                     ğŸ¯ 45 pts   â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                           â”‚ â”‚
â”‚  â”‚      â”Œâ”€â”                  â”‚ â”‚
â”‚  â”‚      â”‚ O                  â”‚ â”‚ â† Hangmanå›¾å½¢
â”‚  â”‚      â”‚/|\                 â”‚ â”‚
â”‚  â”‚      â”‚/                   â”‚ â”‚
â”‚  â”‚     â”€â”´â”€                   â”‚ â”‚
â”‚  â”‚                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚      â¤ï¸ 3 / 10                 â”‚
â”‚                                 â”‚
â”‚    g o _ _ e                   â”‚
â”‚                                 â”‚
â”‚  ç‚¹å‡»å­—æ¯çŒœæµ‹:                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ a b c d e f g h i j k l  â”‚  â”‚
â”‚  â”‚ m n o p q r s t u v w x  â”‚  â”‚
â”‚  â”‚ y z Ã  Ã¢ Ã© Ã¨ Ãª Ã« Ã® Ã¯ Ã´ Ã» â”‚  â”‚
â”‚  â”‚ Ã¹ Ã¼ Ã§ Å“                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                 â”‚
â”‚  æˆ–ç›´æ¥è¾“å…¥å•è¯:                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ [è¾“å…¥æ¡†]       â”‚  â”‚ æäº¤ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Hangmanå›¾å½¢

```
é”™è¯¯0æ¬¡:        é”™è¯¯1æ¬¡:        é”™è¯¯2æ¬¡:
                  â”Œâ”€â”             â”Œâ”€â”
                  â”‚               â”‚ O
                  â”‚               â”‚
                 â”€â”´â”€             â”€â”´â”€

é”™è¯¯3æ¬¡:        é”™è¯¯4æ¬¡:        é”™è¯¯5æ¬¡:
  â”Œâ”€â”             â”Œâ”€â”             â”Œâ”€â”
  â”‚ O             â”‚ O             â”‚ O
  â”‚ â”‚             â”‚/â”‚             â”‚/|\
 â”€â”´â”€             â”€â”´â”€             â”€â”´â”€

é”™è¯¯6æ¬¡:        é”™è¯¯7æ¬¡:        é”™è¯¯10æ¬¡:
  â”Œâ”€â”             â”Œâ”€â”             â”Œâ”€â”
  â”‚ O             â”‚ O             â”‚ X
  â”‚/|\            â”‚/|\            â”‚/|\
  â”‚/              â”‚/ \            â”‚/ \
 â”€â”´â”€             â”€â”´â”€             â”€â”´â”€
```

---

### å•è¯å®Œæˆ - èƒœåˆ©ç•Œé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                 â”‚
â”‚         ğŸ‰ You Won!             â”‚
â”‚                                 â”‚
â”‚         la gomme                â”‚
â”‚         æ©¡çš®                     â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ é”™è¯¯æ¬¡æ•°:  3 / 10         â”‚ â”‚
â”‚  â”‚ å¾—åˆ†:      7 â­          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  ä¸‹ä¸€ä¸ªå•è¯   â”‚ â”‚  è¿”å›   â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### å•è¯å¤±è´¥ - å¤±è´¥ç•Œé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                 â”‚
â”‚         ğŸ˜ Game Over            â”‚
â”‚                                 â”‚
â”‚    æ­£ç¡®ç­”æ¡ˆ: la gomme           â”‚
â”‚              æ©¡çš®               â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ é”™è¯¯æ¬¡æ•°:  10 / 10        â”‚ â”‚
â”‚  â”‚ å¾—åˆ†:      0 â­           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  ä¸‹ä¸€ä¸ªå•è¯   â”‚ â”‚  è¿”å›   â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### æ¸¸æˆä¼šè¯å®Œæˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ğŸŠ æ¸¸æˆä¼šè¯å®Œæˆï¼            â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ æ€»å•è¯æ•°:    20           â”‚ â”‚
â”‚  â”‚ æˆåŠŸ:        15           â”‚ â”‚
â”‚  â”‚ å¤±è´¥:        5            â”‚ â”‚
â”‚  â”‚ èƒœç‡:        75%          â”‚ â”‚
â”‚  â”‚ æ€»å¾—åˆ†:      112 â­       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  å†ç©ä¸€æ¬¡     â”‚ â”‚  è¿”å›   â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### æ ¸å¿ƒé€»è¾‘

#### 1. å•è¯æ ‡å‡†åŒ–

```swift
// ç§»é™¤å† è¯ï¼Œè½¬å°å†™
private func normalizeWord(_ text: String) -> String {
    var normalized = text.lowercased()

    // ç§»é™¤å† è¯
    let articles = ["le ", "la ", "l'", "les ", "un ", "une ", "des "]
    for article in articles {
        if normalized.hasPrefix(article) {
            normalized = String(normalized.dropFirst(article.count))
            break
        }
    }

    return normalized
}

// ä¾‹å¦‚:
// "la gomme" â†’ "gomme"
// "le stylo" â†’ "stylo"
// "l'Ã©cole" â†’ "Ã©cole"
```

---

#### 2. æ˜¾ç¤ºå­—ç¬¦ä¸²ç”Ÿæˆ

```swift
var displayString: String {
    wordToGuess.map { char in
        if char == " " {
            return "  "  // ç©ºæ ¼æ˜¾ç¤ºä¸ºä¸¤ä¸ªç©ºæ ¼
        } else if char == "-" || char == "'" {
            return String(char)  // è¿å­—ç¬¦å’Œæ’‡å·ç›´æ¥æ˜¾ç¤º
        } else if guessedLetters.contains(char) {
            return String(char)  // å·²çŒœå­—æ¯æ˜¾ç¤º
        } else {
            return "_"  // æœªçŒœå­—æ¯æ˜¾ç¤ºä¸‹åˆ’çº¿
        }
    }.joined(separator: " ")
}

// ä¾‹å¦‚:
// wordToGuess = "gomme"
// guessedLetters = {'g', 'o', 'm'}
// displayString = "g o m m _"
```

---

#### 3. å­—æ¯çŒœæµ‹

```swift
func guessLetter(_ letter: Character) {
    guard gameState == .playing else { return }
    guard !guessedLetters.contains(letter) else { return }

    // è®°å½•çŒœæµ‹
    guessedLetters.insert(letter)

    if wordToGuess.contains(letter) {
        // æ­£ç¡®çŒœæµ‹
        SoundEffectManager.shared.playCorrectSound()

        // æ£€æŸ¥æ˜¯å¦å®Œæˆ
        if isWordComplete() {
            winWord()
        }
    } else {
        // é”™è¯¯çŒœæµ‹
        incorrectGuesses += 1
        SoundEffectManager.shared.playIncorrectSound()

        // æ£€æŸ¥æ˜¯å¦å¤±è´¥
        if incorrectGuesses >= maxIncorrectGuesses {
            loseWord()
        }
    }
}
```

---

#### 4. å®Œæ•´å•è¯çŒœæµ‹

```swift
func guessFullWord(_ guess: String) {
    guard gameState == .playing else { return }

    let normalizedGuess = normalizeWord(guess)

    if normalizedGuess == wordToGuess {
        // çŒœå¯¹äº†ï¼
        // æ ‡è®°æ‰€æœ‰å­—æ¯ä¸ºå·²çŒœ
        for char in wordToGuess {
            guessedLetters.insert(char)
        }
        winWord()
    } else {
        // çŒœé”™äº†ï¼Œå¢åŠ 3æ¬¡é”™è¯¯ï¼ˆæƒ©ç½šï¼‰
        incorrectGuesses += 3
        SoundEffectManager.shared.playIncorrectSound()

        if incorrectGuesses >= maxIncorrectGuesses {
            loseWord()
        }
    }

    // æ¸…ç©ºè¾“å…¥
    wordGuess = ""
}
```

---

### ç§¯åˆ†è®¡ç®—

#### å•è¯ç§¯åˆ†

```swift
private func calculatePoints(incorrectGuesses: Int) -> Int {
    switch incorrectGuesses {
    case 0...2: return 10  // ä¼˜ç§€ï¼ˆé”™è¯¯0-2æ¬¡ï¼‰
    case 3...4: return 7   // è‰¯å¥½ï¼ˆé”™è¯¯3-4æ¬¡ï¼‰
    case 5...6: return 5   // åŠæ ¼ï¼ˆé”™è¯¯5-6æ¬¡ï¼‰
    default: return 0      // å¤±è´¥ï¼ˆé”™è¯¯7+æ¬¡ï¼‰
    }
}
```

#### ä¼šè¯ç§¯åˆ†

```
ä¼šè¯æ€»åˆ† = æ‰€æœ‰æˆåŠŸå•è¯çš„ç§¯åˆ†ä¹‹å’Œ

ç¤ºä¾‹ï¼š
â”œâ”€â”€ å•è¯1ï¼ˆ2æ¬¡é”™è¯¯ï¼‰: 10åˆ†
â”œâ”€â”€ å•è¯2ï¼ˆ0æ¬¡é”™è¯¯ï¼‰: 10åˆ†
â”œâ”€â”€ å•è¯3ï¼ˆ5æ¬¡é”™è¯¯ï¼‰: 5åˆ†
â”œâ”€â”€ å•è¯4ï¼ˆå¤±è´¥ï¼‰:     0åˆ†
â”œâ”€â”€ å•è¯5ï¼ˆ3æ¬¡é”™è¯¯ï¼‰: 7åˆ†
â””â”€â”€ æ€»è®¡ï¼š            32åˆ†
```

---

## æ˜Ÿæ˜Ÿå¥–åŠ±ç³»ç»Ÿ

### Matching Gameå¥–åŠ±

#### å¥–åŠ±å…¬å¼

```
æ˜Ÿæ˜Ÿ = é…å¯¹ç§¯åˆ† + æ—¶é—´å¥–åŠ±

é…å¯¹ç§¯åˆ†:
â”œâ”€â”€ æ¯å¯¹åŸºç¡€åˆ†: 10åˆ†
â””â”€â”€ æ—©æœŸå¥–åŠ±: max(0, 10 - å°è¯•æ¬¡æ•°)

æ—¶é—´å¥–åŠ±:
â”œâ”€â”€ â‰¤60ç§’:  +20åˆ†
â”œâ”€â”€ â‰¤120ç§’: +10åˆ†
â”œâ”€â”€ â‰¤180ç§’: +5åˆ†
â””â”€â”€ >180ç§’: 0åˆ†
```

#### ç¤ºä¾‹

| åœºæ™¯ | é…å¯¹ç§¯åˆ† | æ—¶é—´ | æ—¶é—´å¥–åŠ± | æ€»æ˜Ÿæ˜Ÿ |
|------|---------|------|---------|--------|
| å®Œç¾ | 6Ã—19=114 | 45s | 20 | 134â­ |
| ä¼˜ç§€ | 6Ã—15=90 | 75s | 10 | 100â­ |
| è‰¯å¥½ | 6Ã—12=72 | 140s | 5 | 77â­ |
| åŠæ ¼ | 6Ã—10=60 | 200s | 0 | 60â­ |

#### å®é™…èŒƒå›´

```
æœ€ä½: 60â­  (6å¯¹Ã—10åˆ†ï¼Œè¶…æ—¶)
æœ€é«˜: 134â­ (6å¯¹Ã—19åˆ† + 20åˆ†æ—¶é—´å¥–åŠ±)
å¹³å‡: 70-80â­
```

---

### Hangmanå¥–åŠ±

#### å¥–åŠ±å…¬å¼

```
æ˜Ÿæ˜Ÿ = æ‰€æœ‰æˆåŠŸå•è¯çš„ç§¯åˆ†ä¹‹å’Œ

å•ä¸ªå•è¯ç§¯åˆ†:
â”œâ”€â”€ é”™è¯¯0-2æ¬¡: 10â­
â”œâ”€â”€ é”™è¯¯3-4æ¬¡: 7â­
â”œâ”€â”€ é”™è¯¯5-6æ¬¡: 5â­
â””â”€â”€ é”™è¯¯7+æ¬¡/å¤±è´¥: 0â­
```

#### ç¤ºä¾‹ï¼ˆ10ä¸ªå•è¯ï¼‰

| åœºæ™¯ | æˆåŠŸæ•° | å¹³å‡é”™è¯¯ | è®¡ç®— | æ€»æ˜Ÿæ˜Ÿ |
|------|--------|---------|------|--------|
| å®Œç¾ | 10 | 1æ¬¡ | 10Ã—10 | 100â­ |
| ä¼˜ç§€ | 9 | 3æ¬¡ | 9Ã—7 | 63â­ |
| è‰¯å¥½ | 7 | 4æ¬¡ | 7Ã—7 | 49â­ |
| åŠæ ¼ | 5 | 5æ¬¡ | 5Ã—5 | 25â­ |

#### å®é™…èŒƒå›´

```
æœ€ä½: 0â­    (å…¨éƒ¨å¤±è´¥)
æœ€é«˜: 10â­/è¯ (å®Œç¾é€šè¿‡)
å¹³å‡: 5-7â­/è¯
```

---

## æ•°æ®æ¨¡å‹

### 1. MatchingCard - é…å¯¹å¡ç‰‡

```swift
struct MatchingCard: Identifiable, Equatable {
    let id = UUID()
    let word: Word
    let type: CardType      // .image æˆ– .text
    var isFaceUp: Bool = false
    var isMatched: Bool = false

    func matches(_ other: MatchingCard) -> Bool {
        guard self.type != other.type else { return false }
        return self.word.id == other.word.id
    }
}

enum CardType {
    case image  // æ˜¾ç¤ºå›¾ç‰‡
    case text   // æ˜¾ç¤ºæ³•è¯­å•è¯
}
```

---

### 2. MatchingGameViewModel

```swift
@Observable
class MatchingGameViewModel {
    let section: Section
    private let modelContext: ModelContext?

    var cards: [MatchingCard] = []
    var selectedCards: [MatchingCard] = []
    var matchedPairs: Int = 0
    var attempts: Int = 0
    var elapsedTime: TimeInterval = 0
    var score: Int = 0
    var isCompleted: Bool = false

    private var timer: Timer?
    private var hasStarted: Bool = false
    private let pairCount: Int = 6

    // æ–¹æ³•
    func selectCard(_ card: MatchingCard)
    func restartGame()
    private func checkForMatch()
    private func completeGame()
    private func savePracticeRecord()
}
```

---

### 3. HangmanViewModel

```swift
@Observable
class HangmanViewModel {
    let unite: Unite
    private let modelContext: ModelContext?

    private(set) var currentWord: Word?
    private(set) var guessedLetters: Set<Character> = []
    private(set) var incorrectGuesses: Int = 0
    let maxIncorrectGuesses: Int = 10

    private(set) var currentWordIndex: Int = 0
    private(set) var wordsCompleted: Int = 0
    private(set) var wordsWon: Int = 0
    private(set) var totalPoints: Int = 0

    private(set) var gameState: GameState = .playing

    enum GameState {
        case playing
        case won
        case lost
        case sessionCompleted
    }

    // è®¡ç®—å±æ€§
    var wordToGuess: String         // æ ‡å‡†åŒ–å•è¯
    var displayString: String       // æ˜¾ç¤ºå­—ç¬¦ä¸²
    var remainingGuesses: Int       // å‰©ä½™çŒœæµ‹æ¬¡æ•°
    var progressText: String        // è¿›åº¦æ–‡æœ¬
    var winRate: Int                // èƒœç‡

    // æ–¹æ³•
    func guessLetter(_ letter: Character)
    func guessFullWord(_ guess: String)
    func nextWord()
    func restartSession()
    private func winWord()
    private func loseWord()
}
```

---

## æŠ€æœ¯å®ç°

### 1. éŸ³æ•ˆç³»ç»Ÿ

```swift
class SoundEffectManager {
    static let shared = SoundEffectManager()

    private var audioPlayer: AVAudioPlayer?

    func playCorrectSound() {
        playSound(named: "correct")
    }

    func playIncorrectSound() {
        playSound(named: "incorrect")
    }

    private func playSound(named name: String) {
        guard let url = Bundle.main.url(forResource: name, withExtension: "mp3") else {
            return
        }

        do {
            audioPlayer = try AVAudioPlayer(contentsOf: url)
            audioPlayer?.play()
        } catch {
            print("âŒ Failed to play sound: \(error)")
        }
    }
}
```

---

### 2. HangmanCanvas - å›¾å½¢ç»˜åˆ¶

```swift
struct HangmanCanvas: View {
    let incorrectGuesses: Int

    var body: some View {
        Canvas { context, size in
            let center = CGPoint(x: size.width / 2, y: size.height / 2)

            // ç»åˆ‘æ¶åº•åº§
            drawBase(context, at: center)

            // ç»åˆ‘æ¶ç«–æ†
            drawPole(context, at: center)

            // ç»åˆ‘æ¶æ¨ªæ†
            drawBeam(context, at: center)

            // ç»³å­
            drawRope(context, at: center)

            // æ ¹æ®é”™è¯¯æ¬¡æ•°ç»˜åˆ¶äººå½¢
            if incorrectGuesses >= 1 { drawHead(context, at: center) }
            if incorrectGuesses >= 2 { drawBody(context, at: center) }
            if incorrectGuesses >= 3 { drawLeftArm(context, at: center) }
            if incorrectGuesses >= 4 { drawRightArm(context, at: center) }
            if incorrectGuesses >= 5 { drawLeftLeg(context, at: center) }
            if incorrectGuesses >= 6 { drawRightLeg(context, at: center) }

            // å¤±è´¥æ—¶ç»˜åˆ¶Xçœ¼ç›
            if incorrectGuesses >= 10 {
                drawDeadFace(context, at: center)
            }
        }
    }

    private func drawHead(_ context: GraphicsContext, at center: CGPoint) {
        let headCenter = CGPoint(x: center.x, y: center.y - 60)
        let headPath = Circle().path(in: CGRect(
            x: headCenter.x - 15,
            y: headCenter.y - 15,
            width: 30,
            height: 30
        ))
        context.stroke(headPath, with: .color(.black), lineWidth: 2)
    }

    // ... å…¶ä»–ç»˜åˆ¶æ–¹æ³•
}
```

---

### 3. ç»ƒä¹ è®°å½•ä¿å­˜

#### Matching Game

```swift
private func savePracticeRecord() {
    guard let modelContext = modelContext else { return }

    let accuracy = Double(matchedPairs) / Double(totalPairs)
    let record = PracticeRecord(
        sessionDate: Date(),
        sessionType: "Matching Game",
        wordsStudied: 6,  // actualPairCount
        accuracy: accuracy,
        timeSpent: elapsedTime
    )

    modelContext.insert(record)

    do {
        try modelContext.save()

        // å¥–åŠ±æ˜Ÿæ˜Ÿ
        if score > 0 {
            PointsManager.shared.awardStars(
                points: score,
                modelContext: modelContext,
                reason: "Matching game completed"
            )
        }

        // æ£€æµ‹æˆå°±
        trackAchievements(accuracy: accuracy, context: modelContext)
    } catch {
        print("âŒ Failed to save: \(error)")
    }
}
```

#### Hangman

```swift
private func saveHangmanSession() {
    guard let modelContext = modelContext else { return }

    let accuracy = Double(wordsWon) / Double(wordsCompleted)
    let record = PracticeRecord(
        sessionDate: Date(),
        sessionType: "Hangman",
        wordsStudied: wordsCompleted,
        accuracy: accuracy,
        timeSpent: 0  // Hangmanä¸è®¡æ—¶
    )

    modelContext.insert(record)

    do {
        try modelContext.save()

        // å¥–åŠ±æ˜Ÿæ˜Ÿ
        if totalPoints > 0 {
            PointsManager.shared.awardStars(
                points: totalPoints,
                modelContext: modelContext,
                reason: "Hangman game session"
            )
        }
    } catch {
        print("âŒ Failed to save: \(error)")
    }
}
```

---

## ç”¨æˆ·ä½“éªŒ

### 1. Matching Gameæµç¨‹

```
ç”¨æˆ·è¿›å…¥Game Mode
    â†“
ç‚¹å‡» "Matching" å¡ç‰‡
    â†“
AllWordsMatchingGameViewåŠ è½½
    â”œâ”€â”€ æ”¶é›†æ‰€æœ‰å·²å­¦å•è¯ï¼ˆå»é‡ï¼‰
    â”œâ”€â”€ éšæœºé€‰æ‹©6ä¸ªå•è¯
    â”œâ”€â”€ åˆ›å»º12å¼ å¡ç‰‡ï¼ˆ6å¯¹ï¼‰
    â””â”€â”€ æ´—ç‰Œ
         â†“
å¼€å§‹æ¸¸æˆ
    â”œâ”€â”€ ç¿»å¼€ç¬¬1å¼ å¡ç‰‡ï¼ˆå›¾ç‰‡ï¼‰
    â”œâ”€â”€ ç¿»å¼€ç¬¬2å¼ å¡ç‰‡ï¼ˆæ–‡å­—ï¼‰
    â”œâ”€â”€ æ£€æŸ¥é…å¯¹
    â”‚   â”œâ”€â”€ æˆåŠŸï¼šæ’­æ”¾âœ…éŸ³æ•ˆï¼Œ+åˆ†æ•°
    â”‚   â””â”€â”€ å¤±è´¥ï¼šæ’­æ”¾âŒéŸ³æ•ˆï¼Œ1ç§’åç¿»å›
    â””â”€â”€ é‡å¤ç›´åˆ°å…¨éƒ¨é…å¯¹
         â†“
æ¸¸æˆå®Œæˆ
    â”œâ”€â”€ åœæ­¢è®¡æ—¶
    â”œâ”€â”€ è®¡ç®—æ€»åˆ†ï¼ˆé…å¯¹åˆ†+æ—¶é—´å¥–åŠ±ï¼‰
    â”œâ”€â”€ ä¿å­˜PracticeRecord
    â”œâ”€â”€ å¥–åŠ±æ˜Ÿæ˜Ÿ
    â””â”€â”€ æ˜¾ç¤ºç»“æœé¡µé¢
         â†“
é€‰æ‹©
    â”œâ”€â”€ å†ç©ä¸€æ¬¡ â†’ é‡æ–°å¼€å§‹
    â””â”€â”€ è¿”å› â†’ å›åˆ°Game Mode
```

---

### 2. Hangmanæµç¨‹

```
ç”¨æˆ·è¿›å…¥Game Mode
    â†“
ç‚¹å‡» "Hangman" å¡ç‰‡ï¼ˆå±•å¼€ï¼‰
    â†“
é€‰æ‹©èŒƒå›´
    â”œâ”€â”€ æ‰€æœ‰å­¦ä¹ è¿‡å•è¯
    â””â”€â”€ UnitÃ© 1-8ï¼ˆé€‰æ‹©å…¶ä¸€ï¼‰
         â†“
HangmanGameViewåŠ è½½
    â”œâ”€â”€ æ”¶é›†å•å…ƒå†…æ‰€æœ‰å•è¯
    â”œâ”€â”€ éšæœºæ’åº
    â””â”€â”€ å¼€å§‹ç¬¬1ä¸ªå•è¯
         â†“
æ¸¸æˆè¿›è¡Œ
    â”œâ”€â”€ æ˜¾ç¤ºä¸‹åˆ’çº¿: _ _ _ _ _
    â”œâ”€â”€ ç©å®¶çŒœå­—æ¯
    â”‚   â”œâ”€â”€ æ­£ç¡®ï¼šæ˜¾ç¤ºå­—æ¯ï¼Œæ’­æ”¾âœ…éŸ³æ•ˆ
    â”‚   â””â”€â”€ é”™è¯¯ï¼šé”™è¯¯+1ï¼Œæ’­æ”¾âŒéŸ³æ•ˆï¼Œæ›´æ–°å›¾å½¢
    â”œâ”€â”€ æˆ–è¾“å…¥å®Œæ•´å•è¯
    â”‚   â”œâ”€â”€ æ­£ç¡®ï¼šç«‹å³èƒœåˆ©
    â”‚   â””â”€â”€ é”™è¯¯ï¼šé”™è¯¯+3
    â””â”€â”€ åˆ¤æ–­ç»“æœ
        â”œâ”€â”€ å®Œæˆå•è¯ â†’ èƒœåˆ© +ç§¯åˆ†
        â””â”€â”€ é”™è¯¯10æ¬¡ â†’ å¤±è´¥ +0åˆ†
             â†“
å•è¯å®Œæˆ
    â”œâ”€â”€ æ˜¾ç¤ºç»“æœï¼ˆèƒœ/è´Ÿï¼‰
    â””â”€â”€ é€‰æ‹©
        â”œâ”€â”€ ä¸‹ä¸€ä¸ªå•è¯ â†’ ç»§ç»­
        â””â”€â”€ è¿”å› â†’ ç»“æŸä¼šè¯
             â†“
ä¼šè¯å®Œæˆ
    â”œâ”€â”€ ç»Ÿè®¡ï¼šæ€»æ•°/æˆåŠŸ/å¤±è´¥/èƒœç‡
    â”œâ”€â”€ ä¿å­˜PracticeRecord
    â”œâ”€â”€ å¥–åŠ±æ˜Ÿæ˜Ÿï¼ˆæ€»ç§¯åˆ†ï¼‰
    â””â”€â”€ æ˜¾ç¤ºæ€»ç»“é¡µé¢
```

---

### 3. éŸ³æ•ˆåé¦ˆ

| äº‹ä»¶ | éŸ³æ•ˆ | è§†è§‰åé¦ˆ |
|------|------|---------|
| é…å¯¹æˆåŠŸ | âœ…éŸ³æ•ˆ | å¡ç‰‡ä¿æŒæ˜¾ç¤º |
| é…å¯¹å¤±è´¥ | âŒéŸ³æ•ˆ | å¡ç‰‡ç¿»å›ï¼ˆ1ç§’å»¶è¿Ÿï¼‰ |
| å­—æ¯æ­£ç¡® | âœ…éŸ³æ•ˆ | å­—æ¯æ˜¾ç¤ºåœ¨å•è¯ä¸­ |
| å­—æ¯é”™è¯¯ | âŒéŸ³æ•ˆ | é”™è¯¯è®¡æ•°+1ï¼Œå›¾å½¢æ›´æ–° |
| å•è¯èƒœåˆ© | ğŸ‰éŸ³æ•ˆ | æ˜¾ç¤ºå®Œæ•´å•è¯+é‡Šä¹‰ |
| å•è¯å¤±è´¥ | ğŸ˜éŸ³æ•ˆ | æ˜¾ç¤ºæ­£ç¡®ç­”æ¡ˆ |

---

## æœ¬åœ°åŒ–

### å…³é”®å­—ç¬¦ä¸²

```swift
// GameModeView
"game.mode.title" = "Game Mode"
"game.mode.subtitle" = "é€‰æ‹©ä¸€ä¸ªæ¸¸æˆå¼€å§‹å­¦ä¹ "
"game.mode.games.list" = "æ¸¸æˆåˆ—è¡¨"
"game.mode.matching.subtitle" = "6å¯¹å·²å­¦è¯æ±‡"
"game.mode.hangman.subtitle" = "ç‚¹å‡»é€‰æ‹©å•å…ƒ"
"game.mode.hangman.all.words" = "æ‰€æœ‰å­¦ä¹ è¿‡å•è¯"
"game.mode.words.count" = "%d words"
"game.mode.back.to.games" = "æ¸¸æˆ"

// Matching Game
"matching.game.all.words.title" = "é…å¯¹æ¸¸æˆ - æ‰€æœ‰å•è¯"
"matching.game.matched.pairs" = "å·²é…å¯¹"
"matching.game.attempts.count" = "å°è¯•æ¬¡æ•°"
"matching.game.instruction.all" = "ç¿»å¼€å¡ç‰‡ï¼Œæ‰¾åˆ°å›¾ç‰‡å’Œå•è¯çš„é…å¯¹"
"matching.game.excellent" = "å¤ªæ£’äº†ï¼"
"matching.game.pairs.count" = "é…å¯¹æ•°é‡"

// Hangman
"hangman.tap.letter" = "ç‚¹å‡»å­—æ¯çŒœæµ‹"
"hangman.or.type.word" = "æˆ–ç›´æ¥è¾“å…¥å•è¯"
"hangman.submit" = "æäº¤"
"hangman.you.won" = "You Won!"
"hangman.game.over" = "Game Over"
"hangman.next.word" = "ä¸‹ä¸€ä¸ªå•è¯"
"hangman.session.completed" = "æ¸¸æˆä¼šè¯å®Œæˆï¼"
```

---

## æ–‡ä»¶ç»“æ„

```
VocFr/
â”œâ”€â”€ Views/
â”‚   â”œâ”€â”€ Main/
â”‚   â”‚   â””â”€â”€ GameModeView.swift           // æ¸¸æˆé€‰æ‹©
â”‚   â””â”€â”€ Games/
â”‚       â”œâ”€â”€ AllWordsMatchingGameView.swift   // é…å¯¹æ¸¸æˆï¼ˆæ‰€æœ‰å•è¯ï¼‰
â”‚       â”œâ”€â”€ MatchingGameView.swift           // é…å¯¹æ¸¸æˆï¼ˆSectionï¼‰
â”‚       â”œâ”€â”€ MatchingCardView.swift           // å¡ç‰‡ç»„ä»¶
â”‚       â”œâ”€â”€ HangmanGameView.swift            // Hangmanæ¸¸æˆ
â”‚       â”œâ”€â”€ HangmanAllWordsView.swift        // Hangmanï¼ˆæ‰€æœ‰å•è¯ï¼‰
â”‚       â””â”€â”€ HangmanCanvas.swift              // Hangmanå›¾å½¢
â”œâ”€â”€ ViewModels/
â”‚   â”œâ”€â”€ MatchingGameViewModel.swift      // é…å¯¹æ¸¸æˆé€»è¾‘
â”‚   â””â”€â”€ HangmanViewModel.swift           // Hangmané€»è¾‘
â”œâ”€â”€ Services/
â”‚   â”œâ”€â”€ SoundEffectManager.swift         // éŸ³æ•ˆç®¡ç†
â”‚   â””â”€â”€ PointsManager.swift              // æ˜Ÿæ˜Ÿå¥–åŠ±
â””â”€â”€ {language}.lproj/
    â””â”€â”€ Localizable.strings              // æœ¬åœ°åŒ–å­—ç¬¦ä¸²
```

---

## æ€»ç»“

### å·²å®ç°åŠŸèƒ½ âœ…

**Matching Game**:
- [x] 6å¯¹å›¾ç‰‡+å•è¯é…å¯¹
- [x] ç¿»ç‰Œè®°å¿†æ¸¸æˆæœºåˆ¶
- [x] è®¡æ—¶åŠŸèƒ½
- [x] å°è¯•æ¬¡æ•°ç»Ÿè®¡
- [x] åŠ¨æ€ç§¯åˆ†è®¡ç®—ï¼ˆé…å¯¹åˆ†+æ—¶é—´å¥–åŠ±ï¼‰
- [x] æ˜Ÿæ˜Ÿå¥–åŠ±ï¼ˆ60-134â­ï¼‰
- [x] éŸ³æ•ˆåé¦ˆ
- [x] å•è¯å»é‡è¿‡æ»¤

**Hangman**:
- [x] å­—æ¯çŒœæµ‹
- [x] å®Œæ•´å•è¯è¾“å…¥
- [x] 10æ¬¡é”™è¯¯æœºåˆ¶
- [x] Hangmanå›¾å½¢åŠ¨ç”»
- [x] å•å…ƒé€‰æ‹©/å…¨éƒ¨å•è¯
- [x] ä¼šè¯ç»Ÿè®¡ï¼ˆèƒœç‡ã€æ€»åˆ†ï¼‰
- [x] æ˜Ÿæ˜Ÿå¥–åŠ±ï¼ˆ0-10â­/è¯ï¼‰
- [x] æ³•è¯­ç‰¹æ®Šå­—ç¬¦æ”¯æŒ

**é€šç”¨**:
- [x] éŸ³æ•ˆç³»ç»Ÿï¼ˆæ­£ç¡®/é”™è¯¯ï¼‰
- [x] PracticeRecordä¿å­˜
- [x] Progressé¡µé¢é›†æˆ
- [x] æˆå°±ç³»ç»Ÿé›†æˆ
- [x] 7ç§è¯­è¨€æœ¬åœ°åŒ–

---

### æ¸¸æˆå¯¹æ¯”

| ç‰¹æ€§ | Matching | Hangman |
|------|----------|---------|
| ç›®æ ‡ | é…å¯¹å›¾ç‰‡å’Œå•è¯ | çŒœå‡ºå®Œæ•´å•è¯ |
| éš¾åº¦ | â­â­ ä¸­ç­‰ | â­â­â­ è¾ƒéš¾ |
| æ—¶é•¿ | 1-3åˆ†é’Ÿ | 5-15åˆ†é’Ÿ |
| è¯æ±‡é‡ | 6ä¸ªå•è¯ | å¯é€‰ï¼ˆå•å…ƒ/å…¨éƒ¨ï¼‰ |
| è®¡æ—¶ | æ˜¯ | å¦ |
| æ˜Ÿæ˜ŸèŒƒå›´ | 60-134â­ | 0-10â­/è¯ |
| é€‚åˆäººç¾¤ | å„¿ç«¥/åˆå­¦è€… | ä¸­é«˜çº§å­¦ä¹ è€… |
| å­¦ä¹ é‡ç‚¹ | å›¾æ–‡å¯¹åº” | æ‹¼å†™è®°å¿† |

---

**æ–‡æ¡£ç»´æŠ¤è€…**: Claude
**æŠ€æœ¯æ ˆ**: SwiftUI, SwiftData, Canvas, AVFoundation
**æœ€åæ›´æ–°**: 2025-11-16
